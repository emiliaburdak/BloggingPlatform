{% extends "base.html" %}
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
{% block title %}Home{% endblock %}

{% block content %}
<h1 align="center">ALL POSTS</h1>

<br>


<form method="POST" action="{{ url_for('views.add_post') }}">
    <div class="form-group">
        <input
                type="text"
                class="form-control"
                id="post" name="post"
                placeholder="New post, start tapping here...">
    </div>
    <br>
    <div class="text-center">
        <button type="submit" class="btn btn-primary">SUBMIT</button>
    </div>
</form>
<br>
<h1 align="center">POSTS</h1>
<div id="posts">
    {% for post in posts %}
    <div class="card border-dark">
        <div class="card-footer text-muted">
            <a href="/user_posts/{{post.user.username}}">{{post.user.username}}</a>
        </div>
        <div class="card-header d-flex justify-content-between align-items-center">
            <div><small>{{post.date}}</small></div>

            {% if current_user.id == post.author %}
            <div class="btn-group">

                <a href="/delete_post/{{post.id}}" class="dropdown-item">Delete</a>

            </div>
            {% endif %}
        </div>


        <div class="card-body">
            <div class="card-text">{{post.post}}</div>

        </div>


    </div>


    <form method="POST" action="/add_comment/{{post.id}}">
        <div class="form-control border-bottom" style="position: relative;">

            <div class="form-group">

                {% for comment in post.comments%}
                {{comment.comment}}
                <br>
                {% endfor %}
            </div>


            <input
                    type="text"
                    class="form-control"
                    id="comment"
                    name="comment"
                    placeholder="New comment, start tapping here..."
            />
            <button
                    type="submit"
                    class="btn btn-white"
                    style="position: absolute; right: 0; top: 50%; transform: translateY(-50%);">
                <svg
                        xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        class="bi bi-cursor" viewBox="0 0 16 16">
                    <path
                            d="M14.082 2.182a.5.5 0 0 1 .103.557L8.528 15.467a.5.5 0 0 1-.917-.007L5.57 10.694.803 8.652a.5.5 0 0 1-.006-.916l12.728-5.657a.5.5 0 0 1 .556.103zM2.25 8.184l3.897 1.67a.5.5 0 0 1 .262.263l1.67 3.897L12.743 3.52 2.25 8.184z"
                    />
                </svg>
            </button>

        </div>
    </form>


</div>
<br>
{% endfor %}
</div>

{% endblock %}
